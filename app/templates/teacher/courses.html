<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>教师课程列表</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap-4.1.3-dist/css/bootstrap.min.css') }}">

    <style>
        .course-container {
            margin-top: 40px;
        }
        .right-top-btn {
            position: absolute;
            top: 15px;
            right: 20px;
        }
    </style>
</head>

<body class="app header-fixed sidebar-fixed aside-menu-fixed sidebar-lg-show">

<header class="app-header navbar">
    <span class="badge badge-light">软件工程实践 Lab</span>

    <!-- 右上角 按钮 -->
    <div class="col-sm-6 text-right">
        <a href="{{ url_for('welcome_teacher') }}" class="btn btn-secondary right-top-btn">
            返回教师主界面
        </a>
    </div>
</header>

<div class="app-body">
    <main class="main">
        <div class="container">
            <div class="animated fadeIn">

                <h2 class="mt-4">我的任课课程</h2>

                <!-- Flash 消息 -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        <br>
                        {% for category, message in messages %}
                            <div class="alert alert-{{ category }}">{{ message }}</div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}

                <div class="course-container">
                    <table class="table table-bordered table-hover">
                        <thead class="thead-light">
                            <tr>
                                <th>课程编号</th>
                                <th>课程名称</th>
                                <th style="width: 260px;">操作</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for course in courses %}
                            <tr>
                                <td>{{ course.id }}</td>
                                <td>{{ course.name }}</td>
                                <td>

                                    <!-- 跳转 timeline -->
                                    <a href="{{ url_for('teacher_course_timeline', course_id=course.id) }}"
                                       class="btn btn-info btn-sm">
                                        时间线
                                    </a>

                                    <!-- 跳转 stats -->
                                    <a href="{{ url_for('teacher_course_stats', course_id=course.id) }}"
                                       class="btn btn-primary btn-sm">
                                        统计
                                    </a>

                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>

                </div>

            </div>
        </div>
    </main>
</div>

</body>
</html>
